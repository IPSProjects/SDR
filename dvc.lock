schema: '2.0'
stages:
  EMC_SmilesToAtoms:
    cmd: zntrack run ipsuite.nodes.SmilesToAtoms --name EMC_SmilesToAtoms
    params:
      params.yaml:
        EMC_SmilesToAtoms:
          cell:
          optimizer: UFF
          seed: 1234
          smiles: CCOC(=O)OC
    outs:
    - path: nodes/EMC/SmilesToAtoms/atoms.h5
      hash: md5
      md5: 1222b93b038d25b6996cc92a3d83f42c
      size: 27968
    - path: nodes/EMC/SmilesToAtoms/molecule.png
      hash: md5
      md5: 725e5d6d809c824e3d64a282dc120847
      size: 6238
    - path: nodes/EMC/SmilesToAtoms/node-meta.json
      hash: md5
      md5: 837b8c6da8e954a53d0448d363cf3576
      size: 48
  EMC_Packmol:
    cmd: zntrack run ipsuite.nodes.Packmol --name EMC_Packmol
    deps:
    - path: nodes/EMC/SmilesToAtoms/atoms.h5
      hash: md5
      md5: 1222b93b038d25b6996cc92a3d83f42c
      size: 27968
    - path: nodes/EMC/SmilesToAtoms/molecule.png
      hash: md5
      md5: 725e5d6d809c824e3d64a282dc120847
      size: 6238
    - path: nodes/EMC/SmilesToAtoms/node-meta.json
      hash: md5
      md5: 837b8c6da8e954a53d0448d363cf3576
      size: 48
    params:
      params.yaml:
        EMC_Packmol:
          box:
          count:
          - 10
          data_ids:
          density: 1010
          tolerance: 2.0
    outs:
    - path: nodes/EMC/Packmol/atoms.h5
      hash: md5
      md5: bd634280c478341e779a1ae17c222c5d
      size: 31568
    - path: nodes/EMC/Packmol/node-meta.json
      hash: md5
      md5: 86ad5554974f23ea00b71d67b0ac9fe3
      size: 48
    - path: nodes/EMC/Packmol/packmol
      hash: md5
      md5: be2f5a6108f90e036ee9f94c6ad28357.dir
      size: 9564
      nfiles: 3
  EMC_CP2KSinglePoint:
    cmd: zntrack run ipsuite.nodes.CP2KSinglePoint --name EMC_CP2KSinglePoint
    deps:
    - path: GTH_BASIS_SETS
      md5: 518e733a7344699cf0b4192bb97eb6a3
      size: 119403
    - path: GTH_POTENTIALS
      md5: 3a35b03b26b8ba5cf6c1d849dba11f15
      size: 128982
    - path: dftd3.dat
      md5: 88745bcc951a4bcdccc4d6bcfa78d105
      size: 1959318
    - path: nodes/EMC/Packmol/atoms.h5
      hash: md5
      md5: bd634280c478341e779a1ae17c222c5d
      size: 31568
    - path: nodes/EMC/Packmol/node-meta.json
      hash: md5
      md5: 86ad5554974f23ea00b71d67b0ac9fe3
      size: 48
    - path: nodes/EMC/Packmol/packmol
      hash: md5
      md5: be2f5a6108f90e036ee9f94c6ad28357.dir
      size: 9564
      nfiles: 3
    params:
      cp2k.yaml:
        force_eval:
          method: quickstep
          DFT:
            mgrid:
              cutoff: 1800.0
              rel_cutoff: 120.0
              ngrids: 5
            QS:
              eps_filter_matrix: 0.0
              eps_pgf_orb: 0.0001
            SCF:
              scf_guess: restart
              max_scf: 100
              eps_scf: 1e-06
              OT:
                minimizer: diis
                preconditioner: full_single_inverse
              outer_scf:
                max_scf: 100
                eps_scf: 1e-06
              print:
                restart:
                  each:
                    QS_SCF: 0
            XC:
              xc_functional:
                becke97:
                  scale_c: 1.0
                  scale_x: 1.0
              vdw_potential:
                pair_potential:
                  type: DFTD3
                  parameter_file_name: dftd3.dat
                  reference_functional: PBE
                  r_cutoff: 16
                potential_type: pair_potential
            print:
              moments:
                _: ON
              hirshfeld:
                _: ON
            charge: 0
            basis_set_file_name: GTH_BASIS_SETS
            potential_file_name: GTH_POTENTIALS
          subsys:
            kind:
              O:
                basis_set: TZVP-GTH-q6
                potential: GTH-PBE-q6
              C:
                basis_set: TZVP-GTH-q4
                potential: GTH-PBE-q4
              H:
                basis_set: TZVP-GTH-q1
                potential: GTH-PBE-q1
    outs:
    - path: nodes/EMC/CP2KSinglePoint/atoms.h5
      hash: md5
      md5: 95a30cc1ceb2b9337b6a1ab219ea54f9
      size: 47848
    - path: nodes/EMC/CP2KSinglePoint/cp2k
      hash: md5
      md5: 4e2472e376eaf2adef7232a7f172ca06.dir
      size: 2943429
      nfiles: 3
    - path: nodes/EMC/CP2KSinglePoint/node-meta.json
      hash: md5
      md5: 6578987a132c224352bc14bead43f001
      size: 48
  EMC_x10:
    cmd: zntrack run ipsuite.nodes.ASEGeoOpt --name EMC_x10
    deps:
    - path: nodes/EMC/CP2KSinglePoint/atoms.h5
      hash: md5
      md5: 95a30cc1ceb2b9337b6a1ab219ea54f9
      size: 47848
    - path: nodes/EMC/CP2KSinglePoint/cp2k
      hash: md5
      md5: 4e2472e376eaf2adef7232a7f172ca06.dir
      size: 2943429
      nfiles: 3
    - path: nodes/EMC/CP2KSinglePoint/node-meta.json
      hash: md5
      md5: 6578987a132c224352bc14bead43f001
      size: 48
    - path: nodes/EMC/Packmol/atoms.h5
      hash: md5
      md5: bd634280c478341e779a1ae17c222c5d
      size: 31568
    - path: nodes/EMC/Packmol/node-meta.json
      hash: md5
      md5: 86ad5554974f23ea00b71d67b0ac9fe3
      size: 48
    - path: nodes/EMC/Packmol/packmol
      hash: md5
      md5: be2f5a6108f90e036ee9f94c6ad28357.dir
      size: 9564
      nfiles: 3
    params:
      params.yaml:
        EMC_x10:
          data_id: 0
          dump_rate: 1000
          init_kwargs: {}
          optimizer: BFGS
          repeat:
          - 1
          - 1
          - 1
          run_kwargs:
            fmax: 0.1
    outs:
    - path: nodes/EMC/x10/model_outs
      hash: md5
      md5: 696bed0cd36ca4fe2d651eb0b5fba4ce.dir
      size: 15039721
      nfiles: 7
    - path: nodes/EMC/x10/node-meta.json
      hash: md5
      md5: eaed9f7fc9d14f3e6176c954e1c1fdcb
      size: 48
    - path: nodes/EMC/x10/trajectory.h5
      hash: md5
      md5: c5551dece8465755f2e465be916692e8
      size: 1414632
